<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/base :: html(pageTitle='CaesarCoin - Lista de Transações', contentFragment=~{:: content})">

<div th:fragment="content">
    <ul>
        <li>Conta:
            <span th:text="${account.number}"></span>
        </li>
        <li>Correntista:
            <span th:text="${account.accountOwner.name}"></span>
        </li>
        <li>Data abertura:
            <span th:text="${#temporals.format(account.dueDate, 'dd/MM/yyyy')}"></span>
        </li>
    </ul>

    <div style="margin-bottom: 30px;"> </div>

    <div th:text="${message}" style="color: green; margin-bottom: 20px;"></div>

    <table>
        <thead>
        <tr>
            <th>Descricao</th>
            <th>Data</th>
            <th style="text-align: right">Valor</th>
            <th>Tipo</th>
            <th>Categoria</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="transaction : ${account.transactions}">
            <td th:text="${transaction.description}" />
            <td th:text="${#temporals.format(transaction.date, 'dd/MM/yyyy')}" />
            <td th:text="${#numbers.formatCurrency(transaction.value)}" style="text-align: right" />
            <td th:text="${transaction.type}" style="text-align: right" />
            <td th:text="${transaction.category.name}" style="text-align: right" />
            <td>
                <a th:href="@{/transactions/view/{id}(id=${transaction.id})}">Visualizar</a> |
                <a th:href="@{/accounts/edit/{id}(id=${transaction.id})}">Editar</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

</html>
